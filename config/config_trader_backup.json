{
  "trader_name": "HMM-Neural Hybrid Trader",
  "description": "HMM 시장 체제 분류 + 신경망 예측 기반 하이브리드 트레이더",
  "version": "1.0.0",
  
  "data": {
    "symbols": ["AAPL", "META", "NFLX", "QQQ", "SPY", "NVDA", "TSLA", "MSFT", "PLTR", "CONL", "BITX", "ETHU"],
    "macro_symbols": ["^VIX", "^TNX", "DX-Y.NYB", "GC=F", "SPY"],
    "interval": "1d",
    "lookback_days": 360,
    "min_data_points": 50,
    "end_date": "2025-07-24",
    "train_ratio": 0.6
  },

  "hmm_regime": {
    "n_states": 4,
    "state_names": ["BULLISH", "BEARISH", "SIDEWAYS", "VOLATILE"],
    "covariance_type": "diag",
    "n_iter": 1000,
    "random_state": 42,
    "min_training_days": 252,
    "feature_config": {
      "use_vix": true,
      "use_yield_spread": true,
      "use_dollar_strength": true,
      "use_market_momentum": true,
      "use_volatility_regime": true,
      "rolling_periods": {
        "vix_ma": 20,
        "yield_ma": 10,
        "momentum": 20,
        "volatility_std": 20
      }
    }
  },

  "neural_network": {
    "architecture": {
      "hidden_layers": [32, 16],
      "activation": "relu",
      "dropout_rate": 0.2,
      "output_activation": "tanh"
    },
    "training": {
              "epochs": 500,
      "batch_size": 32,
      "learning_rate": 0.001,
      "validation_split": 0.2,
              "early_stopping_patience": 50,
      "reduce_lr_patience": 10
    },
    "features": {
      "lookback_days": 20,
      "use_swing_strategies": true,
      "use_macro_features": true,
      "use_regime_features": true,
      "use_technical_indicators": true
    },
    "regularization": {
      "l2_lambda": 0.001,
      "clip_target": true,
      "target_range": [-1, 1]
    }
  },

  "strategies": [
    "dual_momentum",
    "volatility_breakout", 
    "swing_ema",
    "swing_rsi",
    "swing_donchian",
    "stoch_donchian",
    "whipsaw_prevention",
    "donchian_rsi_whipsaw",
    "volatility_filtered_breakout",
    "multi_timeframe_whipsaw",
    "adaptive_whipsaw",
    "cci_bollinger",
    "mean_reversion",
    "swing_breakout",
    "swing_pullback_entry",
    "swing_candle_pattern",
    "swing_bollinger_band",
    "swing_macd"
  ],

  "scoring": {
    "regime_multipliers": {
      "BULLISH": 1.2,
      "BEARISH": 0.3,
      "SIDEWAYS": 0.8,
      "VOLATILE": 0.6
    },
    "factor_weights": {
      "neural": 0.4,
      "momentum": 0.25,
      "technical": 0.25,
      "liquidity": 0.1
    }
  },

  "threshold_optimization": {
    "method": "grid_search",
    "objective_metric": "sharpe_ratio",
    "n_trials": 100,
    "train_ratio": 0.7,
    "min_data_points": 100,
    "threshold_ranges": {
      "strong_buy": [0.5, 0.9],
      "buy": [0.3, 0.7],
      "hold_upper": [0.1, 0.5],
      "hold_lower": [-0.5, -0.1],
      "sell": [-0.7, -0.3],
      "strong_sell": [-0.9, -0.5]
    },
    "optimization_settings": {
      "grid_search": {
        "step_size": 0.1,
        "max_combinations": 1000
      },
      "optuna": {
        "n_trials": 100,
        "timeout": 3600
      },
      "neural_network": {
        "epochs": 100,
        "learning_rate": 0.001,
        "batch_size": 32
      }
    }
  },
    "volatility_penalty": 0.3,
    "risk_management": {
      "volatility_threshold": 0.30,
      "max_drawdown_threshold": 0.25,
      "liquidity_threshold": 0.3,
      "confidence_threshold": 0.4
    }
  },

  "signal_generation": {
    "thresholds": {
      "strong_buy": 0.6,
      "buy": 0.3,
      "hold_upper": 0.3,
      "hold_lower": -0.3,
      "sell": -0.3,
      "strong_sell": -0.6
    },
    "min_confidence": 0.4,
    "position_management": {
      "max_position_size": 0.15,
      "min_position_size": 0.01,
      "default_position_size": 0.05,
      "risk_scaling": true
    },
    "timing_optimization": {
      "use_entry_phases": true,
      "use_exit_strategy": true,
      "volatility_adjustment": true
    }
  },

  "portfolio": {
    "symbols": ["AAPL", "META", "NFLX", "QQQ", "SPY", "NVDA", "TSLA", "MSFT", "PLTR", "CONL", "BITX", "ETHU"],
    "max_positions": 12,
    "max_total_exposure": 0.95,
    "cash_reserve": 0.05,
    "rebalance_frequency": "daily",
    "concentration_limits": {
      "max_single_position": 0.15,
      "max_sector_exposure": 0.40,
      "max_correlation_group": 0.30
    },
    "risk_management": {
      "portfolio_var_limit": 0.02,
      "max_daily_loss": 0.03,
      "stress_test_scenarios": ["market_crash", "volatility_spike", "liquidity_crisis"]
    }
  },

  "trading": {
    "initial_capital": 100000,
    "commission": 0.001,
    "slippage": 0.0005,
    "market_impact": 0.0002,
    "execution": {
      "order_type": "market",
      "time_in_force": "day",
      "partial_fills": true,
      "execution_delay": 0.1
    }
  },

  "risk_management": {
    "position_sizing": {
      "method": "volatility_adjusted",
      "base_risk": 0.02,
      "max_risk_per_trade": 0.05,
      "portfolio_heat": 0.20
    },
    "stop_loss": {
      "method": "adaptive",
      "min_stop": 0.03,
      "max_stop": 0.12,
      "trailing_stop": true,
      "volatility_multiplier": 2.0
    },
    "take_profit": {
      "method": "multi_level",
      "levels": [0.06, 0.12, 0.20],
      "partial_close_ratios": [0.3, 0.5, 1.0]
    },
    "exposure_limits": {
      "max_gross_exposure": 1.0,
      "max_net_exposure": 0.8,
      "max_sector_exposure": 0.4,
      "max_single_name": 0.15
    }
  },

  "performance": {
    "benchmark": "SPY",
    "target_metrics": {
      "annual_return": 0.15,
      "sharpe_ratio": 1.2,
      "max_drawdown": 0.15,
      "win_rate": 0.55,
      "profit_factor": 1.5
    },
    "evaluation_period": 252,
    "rolling_metrics": true
  },

  "logging": {
    "level": "INFO",
    "handlers": {
      "file": {
        "enabled": true,
        "filename": "log/trader.log",
        "max_size": "10MB",
        "backup_count": 5
      },
      "console": {
        "enabled": true,
        "level": "INFO"
      }
    },
    "log_components": {
      "hmm_regime": true,
      "neural_predictions": true,
      "investment_scores": true,
      "trading_signals": true,
      "portfolio_updates": true,
      "performance_metrics": true
    }
  },

  "model_persistence": {
    "save_models": true,
    "model_directory": "models/trader",
    "save_frequency": "daily",
    "model_versioning": true,
    "backup_models": true,
    "retention_days": 30
  },

  "data_sources": {
    "primary": "yfinance",
    "backup": "alpha_vantage",
    "macro_data": {
      "vix": "^VIX",
      "tnx": "^TNX",
      "irx": "^IRX",
      "dxy": "UUP"
    },
    "update_frequency": "daily",
    "data_validation": true
  },

  "automation": {
    "auto_trading": false,
    "auto_rebalancing": true,
    "auto_risk_management": true,
    "notification": {
      "enabled": true,
      "methods": ["email", "log"],
      "triggers": ["high_priority_signal", "risk_breach", "system_error"]
    }
  },

  "backtesting": {
    "enabled": true,
    "start_date": "2020-01-01",
    "end_date": "2024-12-31",
    "initial_capital": 100000,
    "benchmark": "SPY",
    "include_costs": true,
    "walk_forward": {
      "enabled": true,
      "train_period": 252,
      "test_period": 63,
      "refit_frequency": 21
    }
  },

  "research": {
    "feature_importance": true,
    "model_interpretation": true,
    "regime_analysis": true,
    "correlation_analysis": true,
    "performance_attribution": true,
    "sensitivity_analysis": true
  },

  "output": {
    "results_folder": "results/trader",
    "logs_folder": "log/trader",
    "backup_folder": "backup/trader",
    "reports": {
      "daily_summary": true,
      "weekly_analysis": true,
      "monthly_performance": true,
      "quarterly_review": true
    },
    "export_formats": ["csv", "json", "excel"],
    "dashboard": {
      "enabled": true,
      "port": 8080,
      "auto_refresh": 30
    }
  },

  "trading": {
    "initial_capital": 100000,
    "commission": 0.001,
    "slippage": 0.0005,
    "position_sizing": "fixed",
    "fixed_position_size": 0.1
  },

  "experimental": {
    "features": {
      "sentiment_analysis": false,
      "alternative_data": false,
      "ensemble_models": false,
      "reinforcement_learning": false
    },
    "research_mode": false,
    "debug_mode": false
  }
}
